(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{53:function(e,t,n){"use strict";n.r(t);var r,c,a,o,s,i=n(1),u=n.n(i),l=n(24),d=n.n(l),b=n(7),j=n(2),p=n.n(j),m=n(8),x=n(4),f=n(5),O=n(6),h=O.b.button(r||(r=Object(f.a)(["\n  padding: ",";\n  margin-top: 10px;\n\n  outline: none;\n  cursor: pointer;\n  border: none;\n\n  background-color: ",";\n  color: ",";\n"])),(function(e){return e.accountControl?"10px 35px":"3px 35px"}),(function(e){var t=e.increment,n=e.decrement,r=e.accountControl;return t?"#1A9018":n?"#F1F1F1":r?"#186dfc":"transparent"}),(function(e){var t=e.increment,n=e.decrement,r=e.accountControl;return t?"#fff":n?"#000":r?"#fff":"#000"})),v=n(0),g=function(e){return Object(v.jsx)(h,Object(b.a)({},e))},w=O.b.div(c||(c=Object(f.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  .card {\n    max-width: 200px;\n    padding: 15px;\n\n    box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.8);\n  }\n\n  img {\n    width: 100%;\n  }\n\n  .card-body {\n    text-align: center;\n    text-transform: uppercase;\n    font-family: 'Courier New', Courier, monospace;\n  }\n  .card-buttons {\n    display: flex;\n    justify-content: center;\n    gap: 4px;\n  }\n"]))),k=function(e){var t=e.increment,n=e.decrement,r=e.teams;return Object(v.jsx)(w,{children:r.length<1?Object(v.jsx)("p",{children:"Loading..."}):null===r||void 0===r?void 0:r.sort((function(e,t){return t.scores.score-e.scores.score})).map((function(e){return Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("img",{src:e.img,alt:""}),Object(v.jsx)("div",{className:"card-body",children:Object(v.jsxs)("h3",{children:["Score: ",e.scores.score]})}),Object(v.jsxs)("div",{className:"card-buttons",children:[Object(v.jsx)(g,{"data-action":"increment",onClick:function(n){return t(n,e.scores._id)},increment:!0,children:"+"}),Object(v.jsx)(g,{"data-action":"decrement",onClick:function(t){return n(t,e.scores._id)},decrement:!0,children:"-"})]})]},e._id)}))})},y=O.b.main(a||(a=Object(f.a)(["\n  max-width: 1280px;\n  margin: 0 auto;\n  padding: 40px;\n\n  .control {\n    margin-bottom: 50px;\n  }\n"]))),S=n(9),C=n.n(S),N=function(e){var t=e.children;return Object(v.jsx)("main",{children:t})},F=O.b.form(o||(o=Object(f.a)(["\n  padding: 20px;\n  box-shadow: 0 0 10px 3px rgba(40, 40, 40, 0.2);\n  max-width: fit-content;\n  margin: 20px auto;\n\n  .form-control {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 10px;\n\n    label {\n      margin-bottom: 5px;\n    }\n\n    input {\n      width: fit-content;\n      padding: 6px 15px;\n      outline: none;\n      border: none;\n      background-color: #f4f4f4;\n      box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.5);\n    }\n    input[type='submit'] {\n      background-color: #186dfc;\n      color: white;\n      cursor: pointer;\n    }\n  }\n"]))),P=function(e){return Object(v.jsx)(F,Object(b.a)({},e))},U=function(){var e=Object(i.useState)(""),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(""),a=Object(x.a)(c,2),o=a[0],s=a[1],u=Object(i.useState)(""),l=Object(x.a)(u,2),d=l[0],b=l[1],j=Object(i.useState)(""),f=Object(x.a)(j,2),O=f[0],h=f[1],g=Object(i.useState)(""),w=Object(x.a)(g,2),k=w[0],y=w[1],S=Object(i.useContext)(D),C=S.loginUser,N=S.registerUser,F=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&o&&d){e.next=3;break}return e.abrupt("return");case 3:o===d&&N({username:n,password:o});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),O&&k){e.next=3;break}return e.abrupt("return");case 3:C({username:O,password:k});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("main",{children:[Object(v.jsxs)(P,{onSubmit:U,children:[Object(v.jsxs)("div",{className:"form-control",children:[Object(v.jsx)("label",{htmlFor:"loginUsername",children:"Username"}),Object(v.jsx)("input",{type:"text",id:"loginUsername",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(v.jsxs)("div",{className:"form-control",children:[Object(v.jsx)("label",{htmlFor:"loginPassword",children:"Password"}),Object(v.jsx)("input",{type:"password",id:"loginPassword",value:k,onChange:function(e){return y(e.target.value)}})]}),Object(v.jsx)("div",{className:"form-control",children:Object(v.jsx)("input",{type:"submit",value:"Login"})})]}),Object(v.jsxs)(P,{onSubmit:F,children:[Object(v.jsxs)("div",{className:"form-control",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",id:"username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(v.jsxs)("div",{className:"form-control",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",id:"password",value:o,onChange:function(e){return s(e.target.value)}})]}),Object(v.jsxs)("div",{className:"form-control",children:[Object(v.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",id:"confirmPassword",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(v.jsx)("div",{className:"form-control",children:Object(v.jsx)("input",{type:"submit",value:"Register"})})]})]})},D=u.a.createContext(),I="https://react-testcao.herokuapp.com",J=function(){var e=Object(i.useState)([]),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)(""),a=Object(x.a)(c,2),o=a[0],s=a[1],u=Object(i.useState)(!0),l=Object(x.a)(u,2),d=l[0],j=l[1],f=Object(i.useState)(),O=Object(x.a)(f,2),h=O[0],w=O[1],S=Object(i.useState)([]),F=Object(x.a)(S,2),P=F[0],J=F[1];Object(i.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){s(e);var t=null===h||void 0===h?void 0:h.reduce((function(e,t){return t.teams.reduce((function(e,t){return e.push(t),e}),[])}),[]);J(t),d&&Object(m.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("".concat(I,"/teams"));case 3:return t=e.sent,e.next=6,C.a.get("".concat(I,"/userdata"));case 6:n=e.sent,r(t.data),j(!1),w(n.data.userData),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}}),[o,h]);var _=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(I,"/login"),Object(b.a)({},t));case 3:n=e.sent,localStorage.setItem("user",JSON.stringify(n.data.user)),s(n.data.user),w(n.data.userData),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat(I,"/register"),Object(b.a)({},t));case 3:n=e.sent,localStorage.setItem("user",JSON.stringify(n.data.user)),s(n.data.user),w(n.data.userData),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(p.a.mark((function e(t,n,c){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.put("".concat(I,"/team/score/").concat(t,"/").concat(o,"/").concat(c),Object(b.a)({},n));case 3:a=e.sent,r(a.data.teams),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),z=function(e,t){var r=n.filter((function(e){return e.scores._id===t})),c=null===P||void 0===P?void 0:P.find((function(e){return e.scores===t}));if(c.clicked||"increment"!==e.target.dataset.action){if(c.clicked&&"decrement"===e.target.dataset.action){var a={score:r[0].scores.score-1,clicked:!1};if(a<0)return;E(t,a,"decrement"),c.clicked=!1}}else{var o={score:r[0].scores.score+1,clicked:!0};E(t,o,"increment"),c.clicked=!0}};return o?Object(v.jsx)(N,{children:Object(v.jsxs)(y,{children:[Object(v.jsx)("div",{className:"control",children:Object(v.jsx)(g,{onClick:function(){localStorage.removeItem("user"),s("")},accountControl:!0,children:"Logout"})}),Object(v.jsx)(k,{teams:n,increment:z,decrement:z})]})}):Object(v.jsx)(D.Provider,{value:{loginUser:_,registerUser:L},children:Object(v.jsx)(U,{})})},_=Object(O.a)(s||(s=Object(f.a)(["\n*{\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n"])));var L=function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(_,{}),Object(v.jsx)(J,{})]})};d.a.render(Object(v.jsx)(u.a.StrictMode,{children:Object(v.jsx)(L,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.8c75148a.chunk.js.map