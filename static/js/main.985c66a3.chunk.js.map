{"version":3,"sources":["components/Button/Button.styled.js","components/Button/Button.jsx","components/Card/Cards.styled.js","components/Card/Cards.jsx","pages/Dashboard.styled.js","pages/Account.jsx","components/Form/Form.styled.js","components/Form/Form.jsx","pages/Login.jsx","pages/Dashboard.jsx","GlobalStyles.js","App.js","index.js"],"names":["StyledButton","styled","button","accountControl","increment","decrement","Button","props","StyledCards","div","Cards","teams","length","map","team","className","src","img","alt","scores","score","onClick","e","_id","StyledDashboard","main","Account","children","StyledForm","form","Form","Login","useState","username","setUsername","password","setPassword","passwordConfirm","setPasswordConfirm","loginUsername","setLoginUsername","loginPassword","setLoginPassword","setUser","useContext","UserContext","registerFormHandler","a","preventDefault","user","axios","post","response","localStorage","setItem","JSON","stringify","data","console","log","loginFormHandler","onSubmit","htmlFor","type","id","value","onChange","target","React","createContext","Dashboard","setTeams","isLoading","setIsLoading","useEffect","localUser","parse","getItem","get","updateScore","action","put","incrementClick","teamScore","filter","error","decrementClick","removeItem","Provider","GlobalStyle","createGlobalStyle","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.985c66a3.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const StyledButton = styled.button`\r\n  padding: ${({ accountControl }) =>\r\n    accountControl ? `10px 35px` : `3px 35px`};\r\n  margin-top: 10px;\r\n\r\n  outline: none;\r\n  cursor: pointer;\r\n  border: none;\r\n\r\n  background-color: ${({ increment, decrement, accountControl }) =>\r\n    increment\r\n      ? `#1A9018`\r\n      : decrement\r\n      ? `#F1F1F1`\r\n      : accountControl\r\n      ? `#186dfc`\r\n      : `transparent`};\r\n  color: ${({ increment, decrement, accountControl }) =>\r\n    increment ? `#fff` : decrement ? `#000` : accountControl ? `#fff` : `#000`};\r\n`;\r\n","import React from 'react';\r\nimport { StyledButton } from './Button.styled';\r\n\r\nexport const Button = (props) => {\r\n  return <StyledButton {...props} />;\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const StyledCards = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n  .card {\r\n    max-width: 200px;\r\n    padding: 15px;\r\n\r\n    box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.8);\r\n  }\r\n\r\n  img {\r\n    width: 100%;\r\n  }\r\n\r\n  .card-body {\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    font-family: 'Courier New', Courier, monospace;\r\n  }\r\n  .card-buttons {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 4px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { Button } from '../Button/Button';\r\nimport { StyledCards } from './Cards.styled';\r\n\r\nexport const Cards = ({ increment, decrement, teams }) => {\r\n  return (\r\n    <StyledCards>\r\n      {teams.length < 1 ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        teams?.map((team) => (\r\n          <div className='card' key={team._id}>\r\n            <img src={team.img} alt='' />\r\n            <div className='card-body'>\r\n              <h3>Score: {team.scores.score}</h3>\r\n            </div>\r\n            <div className='card-buttons'>\r\n              <Button onClick={(e) => increment(e, team.scores._id)} increment>\r\n                +\r\n              </Button>\r\n              <Button onClick={(e) => decrement(e, team.scores._id)} decrement>\r\n                -\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        ))\r\n      )}\r\n    </StyledCards>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const StyledDashboard = styled.main`\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n  padding: 40px;\r\n\r\n  .control {\r\n    margin-bottom: 50px;\r\n  }\r\n`;\r\n","export const Account = ({ children }) => {\r\n  return <main>{children}</main>;\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const StyledForm = styled.form`\r\n  padding: 20px;\r\n  box-shadow: 0 0 10px 3px rgba(40, 40, 40, 0.2);\r\n  max-width: fit-content;\r\n  margin: 20px auto;\r\n\r\n  .form-control {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 10px;\r\n\r\n    label {\r\n      margin-bottom: 5px;\r\n    }\r\n\r\n    input {\r\n      width: fit-content;\r\n      padding: 6px 15px;\r\n      outline: none;\r\n      border: none;\r\n      background-color: #f4f4f4;\r\n      box-shadow: 0 0 5px -1px rgba(0, 0, 0, 0.5);\r\n    }\r\n    input[type='submit'] {\r\n      background-color: #186dfc;\r\n      color: white;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport { StyledForm } from './Form.styled';\r\n\r\nexport const Form = (props) => {\r\n  return <StyledForm {...props} />;\r\n};\r\n","import React, { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from './Dashboard';\r\nimport { Form } from '../components/Form/Form';\r\n\r\nconst Login = () => {\r\n  // REgister form\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordConfirm, setPasswordConfirm] = useState('');\r\n\r\n  // Login form\r\n  const [loginUsername, setLoginUsername] = useState('');\r\n  const [loginPassword, setLoginPassword] = useState('');\r\n\r\n  const { setUser } = useContext(UserContext);\r\n\r\n  const registerFormHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (!username || !password || !passwordConfirm) return;\r\n\r\n    if (password === passwordConfirm) {\r\n      try {\r\n        const user = {\r\n          username: username,\r\n          password: password,\r\n        };\r\n\r\n        const response = await axios.post(\r\n          'https://react-testcao.herokuapp.com/register',\r\n          {\r\n            ...user,\r\n          }\r\n        );\r\n\r\n        localStorage.setItem('user', JSON.stringify(response.data.user));\r\n\r\n        setUser(response.data.user);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const loginFormHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!loginUsername || !loginPassword) return;\r\n\r\n    const user = {\r\n      username: loginUsername,\r\n      password: loginPassword,\r\n    };\r\n\r\n    const response = await axios.post(\r\n      'https://react-testcao.herokuapp.com/login',\r\n      {\r\n        ...user,\r\n      }\r\n    );\r\n\r\n    localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    setUser(response.data.user);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <Form onSubmit={loginFormHandler}>\r\n        <div className='form-control'>\r\n          <label htmlFor='loginUsername'>Username</label>\r\n          <input\r\n            type='text'\r\n            id='loginUsername'\r\n            value={loginUsername}\r\n            onChange={(e) => setLoginUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <label htmlFor='loginPassword'>Password</label>\r\n          <input\r\n            type='password'\r\n            id='loginPassword'\r\n            value={loginPassword}\r\n            onChange={(e) => setLoginPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <input type='submit' value='Login' />\r\n        </div>\r\n      </Form>\r\n\r\n      <Form onSubmit={registerFormHandler}>\r\n        <div className='form-control'>\r\n          <label htmlFor='username'>Username</label>\r\n          <input\r\n            type='text'\r\n            id='username'\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <label htmlFor='password'>Password</label>\r\n          <input\r\n            type='password'\r\n            id='password'\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <label htmlFor='confirmPassword'>Confirm Password</label>\r\n          <input\r\n            type='password'\r\n            id='confirmPassword'\r\n            value={passwordConfirm}\r\n            onChange={(e) => setPasswordConfirm(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-control'>\r\n          <input type='submit' value='Register' />\r\n        </div>\r\n      </Form>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Cards } from '../components/Card/Cards';\r\nimport { StyledDashboard } from './Dashboard.styled';\r\nimport axios from 'axios';\r\nimport { Button } from '../components/Button/Button';\r\nimport { Account } from './Account';\r\nimport Login from './Login';\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nconst Dashboard = () => {\r\n  const [teams, setTeams] = useState([]);\r\n  const [user, setUser] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const localUser = JSON.parse(localStorage.getItem('user'));\r\n    if (!localUser) return;\r\n    setUser(localUser);\r\n    // setUser(localStorage.getItem('user'));\r\n\r\n    if (isLoading) {\r\n      (async () => {\r\n        try {\r\n          const response = await axios.get(\r\n            'https://react-testcao.herokuapp.com/teams'\r\n          );\r\n\r\n          setTeams(response.data);\r\n          setIsLoading(false);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      })();\r\n    }\r\n  }, [user]);\r\n\r\n  const updateScore = async (id, score, action) => {\r\n    const response = await axios.put(\r\n      `https://react-testcao.herokuapp.com/team/score/${id}/${user}/${action}`,\r\n      {\r\n        score,\r\n      }\r\n    );\r\n\r\n    setTeams(response.data.teams);\r\n  };\r\n\r\n  const incrementClick = async (e, id) => {\r\n    const teamScore = teams.filter((team) => team.scores._id === id);\r\n    let score = teamScore[0].scores.score + 1;\r\n    let clicked = false;\r\n\r\n    if (!clicked) {\r\n      try {\r\n        updateScore(id, score, 'increment');\r\n        clicked = true;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const decrementClick = async (e, id) => {\r\n    if (isLoading) return;\r\n\r\n    const teamScore = teams.filter((team) => team.scores._id === id);\r\n    let score = teamScore[0].scores.score - 1;\r\n\r\n    if (score < 0) return;\r\n\r\n    let clicked = false;\r\n\r\n    if (!clicked) {\r\n      try {\r\n        clicked = true;\r\n        updateScore(id, score, 'decrement');\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const logoutHandler = () => {\r\n    localStorage.removeItem('user');\r\n    setUser('');\r\n  };\r\n\r\n  return !user ? (\r\n    <UserContext.Provider value={{ setUser }}>\r\n      <Login />\r\n    </UserContext.Provider>\r\n  ) : (\r\n    <Account>\r\n      <StyledDashboard>\r\n        <div className='control'>\r\n          <Button onClick={logoutHandler} accountControl>\r\n            Logout\r\n          </Button>\r\n        </div>\r\n        <Cards\r\n          teams={teams}\r\n          increment={incrementClick}\r\n          decrement={decrementClick}\r\n        />\r\n      </StyledDashboard>\r\n    </Account>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { createGlobalStyle } from 'styled-components';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n*{\r\n  box-sizing: border-box;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n`;\r\n","import Dashboard from './pages/Dashboard';\nimport { GlobalStyle } from './GlobalStyles';\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Dashboard />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}